FROM postgres:15-alpine

# Copy initialization script
COPY database/init.sql /docker-entrypoint-initdb.d/

# Expose port
EXPOSE 5432

# Health check - 환경 변수는 런타임에 .env에서 로드됨
HEALTHCHECK --interval=30s --timeout=10s --start-period=60s --retries=3 \
    CMD pg_isready -U ${POSTGRES_USER} -d ${POSTGRES_DB} || exit 1